<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>portfolio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #fcfbf8;
            color: #1a1a1a;
            padding: 3rem 2rem;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            margin-bottom: 4rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e5e3dd;
        }

        .name {
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .tagline {
            font-size: 0.75rem;
            color: #999;
        }

        .index {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .index-item {
            cursor: pointer;
            padding: 2rem 0;
            border-bottom: 1px solid #e5e3dd;
            transition: all 0.2s;
        }

        .index-item:hover {
            padding-left: 1rem;
        }

        .index-info {
            min-width: 0;
        }

        .index-number {
            font-size: 0.7rem;
            color: #999;
            margin-bottom: 0.5rem;
        }

        .index-title {
            font-size: 1rem;
            margin-bottom: 0.3rem;
        }

        .index-count {
            font-size: 0.75rem;
            color: #999;
        }

        .view {
            display: none;
        }

        .view.active {
            display: block;
        }

        .view-header {
            margin-bottom: 3rem;
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            border-bottom: 1px solid #e5e3dd;
            padding-bottom: 1rem;
        }

        .view-title {
            font-size: 1.2rem;
        }

        .view-actions {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .view-info {
            font-size: 0.75rem;
            color: #999;
        }

        .back-btn {
            font-size: 0.75rem;
            color: #999;
            cursor: pointer;
            background: none;
            border: none;
            font-family: 'Courier New', monospace;
            transition: color 0.2s;
        }

        .back-btn:hover {
            color: #1a1a1a;
        }

        .works {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem 1.5rem;
        }

        .work {
            cursor: pointer;
        }

        .work img {
            width: 100%;
            aspect-ratio: 3/4;
            object-fit: cover;
            margin-bottom: 0.7rem;
            transition: opacity 0.2s;
            filter: contrast(1.05) brightness(0.98);
        }

        .work:hover img {
            opacity: 0.6;
        }

        .work-title {
            font-size: 0.75rem;
            margin-bottom: 0.2rem;
        }

        .work-meta {
            font-size: 0.65rem;
            color: #999;
        }

        .writings {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 3rem 2rem;
        }

        .writing {
            cursor: pointer;
            border-bottom: 1px solid #e5e3dd;
            padding-bottom: 2rem;
        }

        .writing-number {
            font-size: 0.65rem;
            color: #999;
            margin-bottom: 0.5rem;
        }

        .writing-title {
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .writing-meta {
            font-size: 0.7rem;
            color: #999;
            margin-bottom: 1rem;
        }

        .writing-excerpt {
            font-size: 0.75rem;
            line-height: 1.7;
            color: #666;
        }

        .writing:hover .writing-excerpt {
            color: #1a1a1a;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #fcfbf8;
            z-index: 1000;
            padding: 3rem;
            overflow-y: auto;
        }

        .modal.active {
            display: block;
        }

        .modal-nav {
            position: fixed;
            top: 2rem;
            left: 0;
            right: 0;
            padding: 0 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fcfbf8;
            z-index: 10;
        }

        .modal-close {
            font-size: 1.5rem;
            cursor: pointer;
            background: none;
            border: none;
            color: #1a1a1a;
            font-family: 'Courier New', monospace;
        }

        .modal-arrows {
            display: flex;
            gap: 2rem;
        }

        .modal-arrow {
            background: none;
            border: none;
            color: #999;
            cursor: pointer;
            font-size: 0.85rem;
            font-family: 'Courier New', monospace;
            transition: color 0.2s;
        }

        .modal-arrow:hover:not(:disabled) {
            color: #1a1a1a;
        }

        .modal-arrow:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .modal-content {
            max-width: 900px;
            margin: 5rem auto 0;
        }

        .modal-content img {
            max-width: 100%;
            height: auto;
            display: block;
            margin-bottom: 2rem;
            filter: contrast(1.05) brightness(0.98);
        }

        .modal-text {
            max-width: 650px;
            margin: 0 auto;
        }

        .modal-text h1 {
            font-size: 1.3rem;
            font-weight: normal;
            margin-bottom: 0.5rem;
        }

        .modal-text .meta {
            font-size: 0.75rem;
            color: #999;
            margin-bottom: 3rem;
        }

        .modal-text p {
            font-size: 0.9rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        @media (max-width: 1024px) {
            .index {
                grid-template-columns: 1fr;
                gap: 0;
            }

            .works {
                grid-template-columns: repeat(3, 1fr);
            }

            .writings {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 2rem 1.5rem;
            }

            .works {
                grid-template-columns: repeat(2, 1fr);
            }

            .modal-nav {
                padding: 0 1.5rem;
            }

            .modal-content {
                margin-top: 4rem;
            }
        }

        @media (max-width: 480px) {
            .works {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="name">falah</div>
            <div class="tagline">visual work & writing</div>
        </div>

        <!-- INDEX VIEW -->
        <div id="index-view" class="view active">
            <!-- Albums/folders will be dynamically generated here -->
        </div>

        <!-- ALBUM VIEWS -->
        <div id="album-views">
            <!-- Album detail views will be dynamically generated here -->
        </div>
    </div>

    <div id="modal" class="modal">
        <div class="modal-nav">
            <button class="modal-close" onclick="closeModal()">close</button>
            <div class="modal-arrows">
                <button class="modal-arrow" id="prev-btn" onclick="navigate(-1)">← prev</button>
                <button class="modal-arrow" id="next-btn" onclick="navigate(1)">next →</button>
            </div>
        </div>
        <div class="modal-content" id="modal-content"></div>
    </div>

    <script>
        // ============================================
        // CONFIGURATION - EDIT YOUR ALBUMS HERE
        // ============================================
        const albums = [
            {
                id: 'abstract-paintings',
                number: '01',
                title: 'abstract paintings',
                type: 'images',
                folder: 'https://images.unsplash.com/photo-',
                images: [
                    '1541961017774-22349e4a1262?w=800&q=80',
                    '1536924940846-227afb31e2a5?w=800&q=80',
                    '1557672172-298e090bd0f1?w=800&q=80',
                    '1567359781514-3b964e2b04d6?w=800&q=80',
                    '1558618666-fcd25c85cd64?w=800&q=80',
                    '1549887534-1541e9326642?w=800&q=80'
                ],
                metadata: [
                    { title: 'untitled #1', meta: 'ink on paper, 2023' },
                    { title: 'color composition', meta: 'acrylic on canvas, 2024' },
                    { title: 'texture study', meta: 'mixed media, 2023' },
                    { title: 'composition #7', meta: 'oil on canvas, 2022' },
                    { title: 'gradient study', meta: 'watercolor, 2024' },
                    { title: 'form study', meta: 'charcoal, 2023' }
                ]
            },
            {
                id: 'figure-drawings',
                number: '02',
                title: 'figure drawings',
                type: 'images',
                folder: 'https://images.unsplash.com/photo-',
                images: [
                    '1549887534-1541e9326642?w=800&q=80',
                    '1579541814924-49fef2b503d6?w=800&q=80',
                    '1578321272176-b7bbc0679853?w=800&q=80',
                    '1513519245088-0e12902e5a38?w=800&q=80'
                ],
                metadata: [
                    { title: 'study in form', meta: 'charcoal, 2022' },
                    { title: 'figure #3', meta: 'ink, 2023' },
                    { title: 'portrait sketch', meta: 'graphite, 2024' },
                    { title: 'gesture study', meta: 'charcoal, 2023' }
                ]
            },
            {
                id: 'photographs-2024',
                number: '03',
                title: 'photographs 2024',
                type: 'photography',
                folder: 'https://images.unsplash.com/photo-',
                images: [
                    '1506905925346-21bda4d32df4?w=800&q=80',
                    '1518098268026-4e89f1a2cd8e?w=800&q=80',
                    '1433086966358-54859d0ed716?w=800&q=80',
                    '1469474968028-56623f02e42e?w=800&q=80',
                    '1472214103451-9374bd1c798e?w=800&q=80',
                    '1426604966848-d7adac402bff?w=800&q=80'
                ]
            },
            {
                id: 'essays',
                number: '04',
                title: 'essays',
                type: 'writing',
                pieces: [
                    {
                        number: '001',
                        title: 'on light and memory',
                        meta: 'essay · 2024',
                        excerpt: 'The light fell differently that afternoon. Through the window, dust particles suspended in golden rays, each one a small universe...',
                        fullText: `
                            <p>The light fell differently that afternoon. Through the window, dust particles suspended in golden rays, each one a small universe floating in space. I sat there watching them, thinking about how memory works—how certain moments crystallize while others dissolve into the general haze of time.</p>
                            <p>It was the quality of light that stayed with me, years later. Not the conversation, not the specific words exchanged, but the way sunlight slanted through venetian blinds, striping everything in alternating bands of illumination and shadow.</p>
                            <p>Memory is selective in ways we don't fully understand. It preserves not the complete experience but fragments—sensory impressions, emotional resonances, the feeling of a moment rather than its facts.</p>
                        `
                    },
                    {
                        number: '002',
                        title: 'silence in cities',
                        meta: 'essay · 2023',
                        excerpt: 'There are pockets of silence in every city, if you know where to look. Not the absence of sound, but a different quality of stillness...',
                        fullText: `
                            <p>There are pockets of silence in every city, if you know where to look. Not the absence of sound, but a different quality of stillness—a pause in the urban rhythm, spaces where the city takes a breath.</p>
                            <p>I discovered one such place by accident, turning down an unfamiliar street. The noise of traffic faded behind me, replaced by the soft rustling of leaves and distant birdsong.</p>
                            <p>These moments of quiet feel stolen, precious. They remind us that even in our most constructed environments, there are gaps—cracks in the concrete where something else can grow.</p>
                        `
                    }
                ]
            },
            {
                id: 'poetry',
                number: '05',
                title: 'poetry',
                type: 'writing',
                pieces: [
                    {
                        number: '001',
                        title: 'fragments',
                        meta: 'poetry · 2024',
                        excerpt: 'scattered pages / half-written thoughts / the way rain sounds / against old windows...',
                        fullText: `
                            <p>scattered pages<br>half-written thoughts<br>the way rain sounds<br>against old windows</p>
                            <p>memory like water<br>seeping through cracks<br>in well-worn floors</p>
                            <p>we gather what we can<br>hold tight to fragments<br>of days that slip away<br>like sand through fingers</p>
                        `
                    },
                    {
                        number: '002',
                        title: 'late autumn',
                        meta: 'poetry · 2023',
                        excerpt: 'leaves fall / without ceremony / carpeting sidewalks / in shades of rust...',
                        fullText: `
                            <p>leaves fall<br>without ceremony<br>carpeting sidewalks<br>in shades of rust</p>
                            <p>the year turning inward<br>drawing breath<br>before the long silence</p>
                            <p>we walk through it<br>kicking up memories<br>brittle and brown</p>
                        `
                    }
                ]
            }
        ];

        // ============================================
        // APPLICATION CODE - NO NEED TO EDIT BELOW
        // ============================================
        let currentCategory = '';
        let currentAlbumId = '';
        let currentIndex = 0;
        let currentItems = [];

        function init() {
            // Calculate counts for all albums
            albums.forEach(album => {
                if (album.type === 'writing') {
                    album.count = `${album.pieces.length} ${album.pieces.length === 1 ? 'piece' : 'pieces'}`;
                } else {
                    album.count = `${album.images.length} ${album.images.length === 1 ? 'work' : 'works'}`;
                }
            });
            
            generateIndexView();
            generateAlbumViews();
            setupEventListeners();
        }

        function generateIndexView() {
            const indexView = document.getElementById('index-view');
            let indexHTML = '';
            let currentRow = '';
            let itemsInRow = 0;

            albums.forEach((album, idx) => {
                currentRow += `
                    <div class="index-item" onclick="showAlbum('${album.id}')">
                        <div class="index-info">
                            <div class="index-number">${album.number}</div>
                            <div class="index-title">${album.title}</div>
                            <div class="index-count">${album.count}</div>
                        </div>
                    </div>
                `;
                
                itemsInRow++;
                
                if (itemsInRow === 3 || idx === albums.length - 1) {
                    indexHTML += `<div class="index">${currentRow}</div>`;
                    currentRow = '';
                    itemsInRow = 0;
                }
            });

            indexView.innerHTML = indexHTML;
        }

        function generateAlbumViews() {
            const container = document.getElementById('album-views');
            
            albums.forEach(album => {
                const viewHTML = album.type === 'writing' 
                    ? generateWritingAlbumView(album)
                    : generateImageAlbumView(album);
                container.innerHTML += viewHTML;
            });
        }

        function generateImageAlbumView(album) {
            const worksHTML = album.images.map((img, idx) => {
                if (album.type === 'photography') {
                    return `
                        <div class="work" data-album="${album.id}" data-img="${album.folder}${img}">
                            <img src="${album.folder}${img}" alt="">
                        </div>
                    `;
                }
                
                const meta = album.metadata && album.metadata[idx] 
                    ? album.metadata[idx] 
                    : { title: `untitled ${idx + 1}`, meta: '' };
                
                return `
                    <div class="work" data-album="${album.id}" data-img="${album.folder}${img}">
                        <img src="${album.folder}${img}" alt="${meta.title}">
                        <div class="work-title">${meta.title}</div>
                        <div class="work-meta">${meta.meta}</div>
                    </div>
                `;
            }).join('');

            return `
                <div id="album-${album.id}" class="view">
                    <div class="view-header">
                        <div class="view-title">${album.number} — ${album.title}</div>
                        <div class="view-actions">
                            <div class="view-info">${album.count}</div>
                            <button class="back-btn" onclick="showView('index')">← back</button>
                        </div>
                    </div>
                    <div class="works">${worksHTML}</div>
                </div>
            `;
        }

        function generateWritingAlbumView(album) {
            const writingsHTML = album.pieces.map(piece => `
                <div class="writing" data-album="${album.id}">
                    <div class="writing-number">${piece.number}</div>
                    <div class="writing-title">${piece.title}</div>
                    <div class="writing-meta">${piece.meta}</div>
                    <div class="writing-excerpt">${piece.excerpt}</div>
                    <div class="full-text" style="display:none;">${piece.fullText}</div>
                </div>
            `).join('');

            return `
                <div id="album-${album.id}" class="view">
                    <div class="view-header">
                        <div class="view-title">${album.number} — ${album.title}</div>
                        <div class="view-actions">
                            <div class="view-info">${album.count}</div>
                            <button class="back-btn" onclick="showView('index')">← back</button>
                        </div>
                    </div>
                    <div class="writings">${writingsHTML}</div>
                </div>
            `;
        }

        function setupEventListeners() {
            document.querySelectorAll('.work').forEach((work) => {
                work.onclick = function() {
                    currentAlbumId = this.dataset.album;
                    currentItems = Array.from(document.querySelectorAll(`[data-album="${currentAlbumId}"].work`));
                    currentIndex = currentItems.indexOf(this);
                    showWork(currentIndex);
                };
            });

            document.querySelectorAll('.writing').forEach((writing) => {
                writing.onclick = function() {
                    currentAlbumId = this.dataset.album;
                    currentItems = Array.from(document.querySelectorAll(`[data-album="${currentAlbumId}"].writing`));
                    currentIndex = currentItems.indexOf(this);
                    showWriting(currentIndex);
                };
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') closeModal();
                if (document.getElementById('modal').classList.contains('active')) {
                    if (e.key === 'ArrowLeft') navigate(-1);
                    if (e.key === 'ArrowRight') navigate(1);
                }
            });
        }

        function showView(viewName) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(`${viewName}-view`).classList.add('active');
            window.scrollTo(0, 0);
        }

        function showAlbum(albumId) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(`album-${albumId}`).classList.add('active');
            window.scrollTo(0, 0);
        }

        function showWork(index) {
            const work = currentItems[index];
            const img = work.dataset.img;
            const title = work.querySelector('.work-title') ? work.querySelector('.work-title').textContent : '';
            const meta = work.querySelector('.work-meta') ? work.querySelector('.work-meta').textContent : '';
            
            const album = albums.find(a => a.id === currentAlbumId);
            if (album && album.type === 'photography') {
                document.getElementById('modal-content').innerHTML = `
                    <img src="${img}" alt="">
                `;
            } else {
                document.getElementById('modal-content').innerHTML = `
                    <img src="${img}" alt="${title}">
                    <div class="modal-text">
                        <h1>${title}</h1>
                        <div class="meta">${meta}</div>
                    </div>
                `;
            }
            
            updateNavButtons();
            document.getElementById('modal').classList.add('active');
        }

        function showWriting(index) {
            const writing = currentItems[index];
            const title = writing.querySelector('.writing-title').textContent;
            const meta = writing.querySelector('.writing-meta').textContent;
            const fullText = writing.querySelector('.full-text').innerHTML;
            
            document.getElementById('modal-content').innerHTML = `
                <div class="modal-text">
                    <h1>${title}</h1>
                    <div class="meta">${meta}</div>
                    ${fullText}
                </div>
            `;
            
            updateNavButtons();
            document.getElementById('modal').classList.add('active');
        }

        function navigate(direction) {
            currentIndex = Math.max(0, Math.min(currentIndex + direction, currentItems.length - 1));
            
            const isWriting = currentItems[currentIndex].classList.contains('writing');
            if (isWriting) {
                showWriting(currentIndex);
            } else {
                showWork(currentIndex);
            }
        }

        function updateNavButtons() {
            document.getElementById('prev-btn').disabled = currentIndex === 0;
            document.getElementById('next-btn').disabled = currentIndex === currentItems.length - 1;
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // Initialize
        init();
    </script>
</body>
</html>